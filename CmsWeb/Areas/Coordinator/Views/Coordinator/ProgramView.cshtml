@using CmsWeb.Areas.Coordinator.Models
@model CmsWeb.Areas.Coordinator.Models.ProgViewModel
@{
    Layout = null;
    if (ViewData["SelectedProgId"] != null)
    {
        Model.SelectedProgId = (int) ViewData["SelectedProgId"];
    }
}
@Html.DropDownListFor(p => p.SelectedProgId,
    Model.ProgIEnum,
    "Select a Program",
    new
    {
        @id = "Program-DropdownID",
        @class = "form-control"
    })

<script type="text/javascript">
    $(function () {
        // Populate Divisions draw chart
        $('#Program-DropdownID').change(function () {
            var selectedTimeslotId = $('#Timeslot-DropdownID option:selected').val();
            var selectedProgramId = this.value;
            $('#DivisionContainer').load('@Url.Action("DivisionView")?timeslotId=' + selectedTimeslotId + '&progId=' + selectedProgramId);
            $('#OrganizationContainer').load('@Url.Action("OrganizationView")?timeslotId=' + selectedTimeslotId + ' & progId=' + selectedProgramId); // clear up the Organization drop down list as no division is selected
            $("#DetailsContainer").empty();
        });
    });
</script>
