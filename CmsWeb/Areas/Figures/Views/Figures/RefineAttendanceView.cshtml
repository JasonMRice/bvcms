@{
    Layout = ViewExtensions2.TouchPointLayout();
    ViewBag.Title = "Figures";
    ViewBag.PageHeader = "Refine Attendance Chart";
}
@ViewExtensions2.jQuery()
@ViewExtensions2.jQueryUI()

@ViewExtensions2.Jsapi()

@Fingerprint.Css("/Content/touchpoint/lib/jquery-multi-select/css/multi-select.css")
@Fingerprint.Script("/Content/touchpoint/lib/jquery-multi-select/js/jquery.multi-select.js")

<div id="fig">
    <div class="row">
        <div class="col-lg-12">
            <div class="box box-responsive">
                <div class="box-content">
                    <div id='Attendance_chart_display' style='width: 900px; height: 400px;display:none'>
                    </div>
                    <br />
                    <a class="btn btn-primary" id="DrawChart">Draw Attendance Chart</a>
                    <br />
                    <br />
                    <div class="form-group">
                        <label class="control-label">Program</label>
                        <div id="ProgramContainer">
                            <select class="Program-DropdownCls" v-model="ProgramId">
                                <option value="-1">Select a Program</option>
                                <option v-for="program in Programs">{{program.ProgName}}</option>
                            </select>
                        </div>
                        @*<label for="Program" class="control-label">Program</label>
                            <div id="ProgramContainer">
                                @Html.Action("ProgramView")
                            </div>*@
                    </div>
                    @*<div class="form-group">
                            <label for="Division" class="control-label">Division</label>
                            <div id="DivisionContainer">
                                @Html.Action("DivisionView")
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="Organization" class="control-label">Organization</label>
                            <div id="OrganizationContainer">
                                @Html.Action("OrganizationView")
                            </div>
                        </div>*@<div class="form-group">
                        <label for="Division" class="control-label"></label>
                        <div id="DivisionContainer">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="Organization" class="control-label"></label>
                        <div id="OrganizationContainer">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@ViewExtensions2.Vue()
@Fingerprint.Script("/Content/touchpoint/js/figures/figures.js")

<script type="text/javascript">
    google.load("visualization", "1", { packages: ["corechart"] });

    $('#DrawChart').click(function () {
        var e = document.getElementById('Attendance_chart_display');
        e.style.display = 'block';
        var selectedValues = $('#Organization-DropdownID').val();
        $("#Attendance_chart_display").load('/Figures/Figures/AttendanceChartDisplayView', { orgIdsArr: selectedValues });
    });
</script>
